class <%= @model.class_name %> < CommandBase
  def initialize(<%= (%w(underlying_builder) + @model.method_args).join(', ') %>
    super underlying_builder
  end
end



@writer.write_method 'initialize', 'underlying_builder', node_code_names.method_args do
  @writer.write_line 'super underlying_builder'
  render_leaf_node_method_body
end



def render_branch_node
  @writer.write_class node_code_names.class_name, 'CommandBase' do
    render_constructor
    @node.child_nodes.each do |n|
      generator = NodeCodeGenerator.new n, @command, @writer
      generator.render_method
    end
  end
  render_child_nodes
end
