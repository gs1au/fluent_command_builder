# Generated code. Do not modify.

require File.expand_path(File.dirname(__FILE__) + '/../command_base')
require File.expand_path(File.dirname(__FILE__) + '/../command_builder_config')
require File.expand_path(File.dirname(__FILE__) + '/../underlying_builder')

module FluentCommandBuilder
  module <%= model[:command_module_name] %>
    module <%= model[:version_module_name] %>
      VERSION = '<%= model[:version] %>'
      @@config = CommandBuilderConfig.new FluentCommandBuilder::<%= model[:command_module_name] %>::COMMAND_NAME, VERSION
      @@config.version_detector = FluentCommandBuilder::<%= model[:command_module_name] %>.version_detector
      def configure_<%= model[:factory_method_name] %>
        yield @@config
        @@config.validate
      end
      def <%= model[:command_factory_method_signature] %>
        b = UnderlyingBuilder.new @@config
        c = <%= model[:command_initializer_call] %>
        yield b if block_given?
        c
      end
<%= model[:command_class] %>
    end
  end
end